# Лабораторная работа 2.
Кузенина Валерия. Группа P3332

## Задание 
Реализация блочного кеша.

Политика вытеснения - FIFO.

### Обзор кода
Структуры:
```
CachePage - страница в кэше
BlockCache - управшение блочным кэшем
```
Интерфейс: 
```
int open(const char *path) - Открывает файл по пути и добавляет его дескриптор в карту
int close(int fd) - Закрывает файл и вызывает fsync для синхронизации данных на диск
ssize_t read(int fd, void *buf, size_t count) - Читает данные из файла в буфер. Если данные есть в кэше, использует их.
ssize_t write(int fd, const void *buf, size_t count) - Записывает данные из буфера в кэш. Помечает страницу как модифицированную.
off_t lseek(int fd, off_t offset, int whence) - Изменяет текущее смещение для файла и обновляет карту смещений.
int fsync(int fd) - Записывает все модифицированные страницы на диск с помощью pwrite.
void evict_page() - Вытесняет одну страницу из кэша по принципу FIFO. Удаляет страницу из карты и списка.
```
### Результат работы программы-нагрузчика

### Тесты
Было:
```
real    0m3.373s
user    0m0.169s
sys     0m0.177s
```
Стало
```
Время выполнения: 2291.19 ms

real    0m2.311s
user    0m0.328s
sys     0m0.237s
```
